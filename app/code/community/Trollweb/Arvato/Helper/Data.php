<?php
class Trollweb_Arvato_Helper_Data extends Mage_Core_Helper_Abstract {
    const DEFAULT_COUNTRY_NO = 'DE';
    
    public function getConfigData($field, $storeId) {
        return Mage::getStoreConfig('payment/arvato_trustnpay/' . $field, $storeId);
    }

    public function getCountryIdByNo($no = false) {
        if (!$no) {
            return self::DEFAULT_COUNTRY_NO;
        }
        if ($key = array_search($no, $this->getCountryISOList())) {
            return $key;
        }
        return self::DEFAULT_COUNTRY_NO;
    }

    public function getCountryNumber($code) {
        $ISO3166 = $this->getCountryISOList();
        if (isset($ISO3166[$code])) {
            return $ISO3166[$code];
        }
        return '';
    }

    public function getCountryISOList() {
        return array(
            'AD' => 20,
            'AE' => 784,
            'AF' => 4,
            'AG' => 28,
            'AI' => 660,
            'AL' => 8,
            'AM' => 51,
            'AN' => 530,
            'AO' => 24,
            'AQ' => 10,
            'AR' => 32,
            'AS' => 16,
            'AT' => 40,
            'AU' => 36,
            'AW' => 533,
            'AZ' => 31,
            'BA' => 70,
            'BB' => 52,
            'BD' => 50,
            'BE' => 56,
            'BF' => 854,
            'BG' => 100,
            'BH' => 48,
            'BI' => 108,
            'BJ' => 204,
            'BM' => 60,
            'BN' => 96,
            'BO' => 68,
            'BR' => 76,
            'BS' => 44,
            'BT' => 64,
            'BV' => 74,
            'BW' => 72,
            'BY' => 112,
            'BZ' => 84,
            'CA' => 124,
            'CC' => 166,
            'CF' => 140,
            'CG' => 178,
            'CH' => 756,
            'CI' => 384,
            'CK' => 184,
            'CL' => 152,
            'CM' => 120,
            'CN' => 156,
            'CO' => 170,
            'CR' => 188,
            'CU' => 192,
            'CV' => 132,
            'CX' => 162,
            'CY' => 196,
            'CZ' => 203,
            'DE' => 276,
            'DJ' => 262,
            'DK' => 208,
            'DM' => 212,
            'DO' => 214,
            'DZ' => 12,
            'EC' => 218,
            'EE' => 233,
            'EG' => 818,
            'EH' => 732,
            'ER' => 232,
            'ES' => 724,
            'ET' => 231,
            'FI' => 246,
            'FJ' => 242,
            'FK' => 238,
            'FM' => 583,
            'FO' => 234,
            'FR' => 250,
            'FX' => 249,
            'GA' => 266,
            'GB' => 826,
            'GD' => 308,
            'GE' => 268,
            'GF' => 254,
            'GH' => 288,
            'GI' => 292,
            'GL' => 304,
            'GM' => 270,
            'GN' => 324,
            'GP' => 312,
            'GQ' => 226,
            'GR' => 300,
            'GS' => 239,
            'GT' => 320,
            'GU' => 316,
            'GW' => 624,
            'GY' => 328,
            'HK' => 344,
            'HM' => 334,
            'HN' => 340,
            'HR' => 191,
            'HT' => 332,
            'HU' => 348,
            'ID' => 360,
            'IE' => 372,
            'IL' => 376,
            'IN' => 356,
            'IO' => 86,
            'IQ' => 368,
            'IR' => 364,
            'IS' => 352,
            'IT' => 380,
            'JM' => 388,
            'JO' => 400,
            'JP' => 392,
            'KE' => 404,
            'KG' => 417,
            'KH' => 116,
            'KI' => 296,
            'KM' => 174,
            'KN' => 659,
            'KP' => 408,
            'KR' => 410,
            'KW' => 414,
            'KY' => 136,
            'KZ' => 398,
            'LA' => 418,
            'LB' => 422,
            'LC' => 662,
            'LI' => 438,
            'LK' => 144,
            'LR' => 430,
            'LS' => 426,
            'LT' => 440,
            'LU' => 442,
            'LV' => 428,
            'LY' => 434,
            'MA' => 504,
            'MC' => 492,
            'MD' => 498,
            'MG' => 450,
            'MH' => 584,
            'MK' => 807,
            'ML' => 466,
            'MM' => 104,
            'MN' => 496,
            'MO' => 446,
            'MP' => 580,
            'MQ' => 474,
            'MR' => 478,
            'MS' => 500,
            'MT' => 470,
            'MU' => 480,
            'MV' => 462,
            'MW' => 454,
            'MX' => 484,
            'MY' => 458,
            'MZ' => 508,
            'NA' => 516,
            'NC' => 540,
            'NE' => 562,
            'NF' => 574,
            'NG' => 566,
            'NI' => 558,
            'NL' => 528,
            'NO' => 578,
            'NP' => 524,
            'NR' => 520,
            'NU' => 570,
            'NZ' => 554,
            'OM' => 512,
            'PA' => 591,
            'PE' => 604,
            'PF' => 258,
            'PG' => 598,
            'PH' => 608,
            'PK' => 586,
            'PL' => 616,
            'PM' => 666,
            'PN' => 612,
            'PR' => 630,
            'PT' => 620,
            'PW' => 585,
            'PY' => 600,
            'QA' => 634,
            'RE' => 638,
            'RO' => 642,
            'RU' => 643,
            'RW' => 646,
            'SA' => 682,
            'SB' => 90,
            'SC' => 690,
            'SD' => 736,
            'SE' => 752,
            'SG' => 702,
            'SH' => 654,
            'SI' => 705,
            'SJ' => 744,
            'SK' => 703,
            'SL' => 694,
            'SM' => 674,
            'SN' => 686,
            'SO' => 706,
            'SR' => 740,
            'ST' => 678,
            'SV' => 222,
            'SY' => 760,
            'SZ' => 748,
            'TC' => 796,
            'TD' => 148,
            'TF' => 260,
            'TG' => 768,
            'TH' => 764,
            'TJ' => 762,
            'TK' => 772,
            'TM' => 795,
            'TN' => 788,
            'TO' => 776,
            'TP' => 626,
            'TR' => 792,
            'TT' => 780,
            'TV' => 798,
            'TW' => 158,
            'TZ' => 834,
            'UA' => 804,
            'UG' => 800,
            'UM' => 581,
            'US' => 840,
            'UY' => 858,
            'UZ' => 860,
            'VA' => 336,
            'VC' => 670,
            'VE' => 862,
            'VG' => 92,
            'VI' => 850,
            'VN' => 704,
            'VU' => 548,
            'WF' => 876,
            'WS' => 882,
            'YE' => 887,
            'YT' => 175,
            'YU' => 891,
            'ZA' => 710,
            'ZM' => 894,
            'ZR' => 180,
            'ZW' => 716,
        );
    }

}
